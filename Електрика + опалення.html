<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: 'Courier New', monospace; background: #eef; text-align: center; padding: 10px; }
        canvas { background: #fff; border: 2px solid #333; box-shadow: 0 10px 20px rgba(0,0,0,0.2); max-width: 100%; height: auto; }
        .legend { display: inline-block; text-align: left; background: #fff; padding: 15px; margin-top: 10px; border-radius: 8px; font-size: 11px; }
    </style>
</head>
<body>
    <h3>–ü–õ–ê–ù "–ú–û–î–£–õ–¨-–ú–ò–ö–û–õ–ê–á–í" v2.12 (–ï–õ–ï–ö–¢–†–ò–ö–ê + –û–ü–ê–õ–ï–ù–ù–Ø)</h3>
    <canvas id="finalElectric" width="650" height="500"></canvas>
    <div class="legend">
        üî¥ <b>–†–æ–∑–µ—Ç–∫–∏:</b> –ó–º—ñ—â–µ–Ω—ñ –≤—ñ–¥ –ª—ñ–∂–æ–∫, 2—à—Ç –Ω–∞ —Å–ø–∞–ª—å–Ω—é.<br>
        üîò <b>–í–∏–º–∏–∫–∞—á—ñ:</b> –ë—ñ–ª—è –¥–≤–µ—Ä–µ–π. <span style="color:green">S</span> ‚Äî –ü—Ä–æ—Ö—ñ–¥–Ω–∏–π –≤–∏–º–∏–∫–∞—á.<br>
        ‚ùÑÔ∏è <b>–¢–ù:</b> –ó–æ–≤–Ω—ñ—à–Ω—ñ–π –±–ª–æ–∫ —Ç–µ–ø–ª–æ–≤–æ–≥–æ –Ω–∞—Å–æ—Å–∞.<br>
        ‚ö° <b>–ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å:</b> –†–æ–∑—Ä–∞—Ö–æ–≤–∞–Ω–æ –Ω–∞ –ø—ñ–∫–æ–≤—ñ 10 –∫–í—Ç.
    </div>

    <script>
        const canvas = document.getElementById("finalElectric");
        const ctx = canvas.getContext("2d");
        const s = 0.08; const offX = 110; const offY = 100;
        const L = 6000 * s; const W = 3500 * s;

        // 1. –ê–†–•–Ü–¢–ï–ö–¢–£–†–ê
        ctx.lineWidth = 3; ctx.strokeStyle = "#000"; ctx.strokeRect(offX, offY, L, W);
        ctx.lineWidth = 2;
        ctx.beginPath(); // –ü–µ—Ä–µ–≥–æ—Ä–æ–¥–∫–∏
        ctx.moveTo(offX + 1800*s, offY); ctx.lineTo(offX + 1800*s, offY + W);
        ctx.moveTo(offX + 4200*s, offY); ctx.lineTo(offX + 4200*s, offY + W);
        ctx.stroke();

        // 2. –°–ê–ù–í–£–ó–û–õ
        ctx.beginPath();
        ctx.moveTo(offX + 1800*s, offY + 1700*s); ctx.lineTo(offX + 2800*s, offY + 1700*s); 
        ctx.lineTo(offX + 3400*s, offY + 2300*s); ctx.lineTo(offX + 3400*s, offY + W);       
        ctx.stroke();

        // 3. –ï–õ–ï–ö–¢–†–ò–ö–ê (–ê–Ω–∞—Ç–æ–ª—ñ–π –ì—Ä–∏–≥–æ—Ä–æ–≤–∏—á)
        function drawSocket(x, y) {
            ctx.fillStyle = "red"; ctx.beginPath(); ctx.arc(x, y, 3, 0, Math.PI*2); ctx.fill();
        }
        function drawSwitch(x, y, isWay) {
            ctx.fillStyle = isWay ? "green" : "black";
            ctx.beginPath(); ctx.arc(x, y, 4, 0, Math.PI*2); ctx.stroke();
            if(isWay) ctx.fillText("S", x+5, y+5);
        }

        // –†–æ–∑–µ—Ç–∫–∏ –≤ —Å–ø–∞–ª—å–Ω—è—Ö (–ø–æ –∫—É—Ç–∞—Ö, –Ω–µ –∑–∞ –ª—ñ–∂–∫–æ–º)
        drawSocket(offX + 100*s, offY + 100*s); drawSocket(offX + 1700*s, offY + 3400*s); // –°–ø1
        drawSocket(offX + 4300*s, offY + 100*s); drawSocket(offX + 5900*s, offY + 3400*s); // –°–ø2
        
        // –ö—É—Ö–Ω—è —Ç–∞ –í—ñ—Ç–∞–ª—å–Ω—è
        drawSocket(offX + 2200*s, offY + 100*s); drawSocket(offX + 3000*s, offY + 100*s);

        // –í–∏–º–∏–∫–∞—á—ñ –±—ñ–ª—è –¥–≤–µ—Ä–µ–π
        drawSwitch(offX + 1900*s, offY + 1000*s, false); // –°–ø1
        drawSwitch(offX + 4100*s, offY + 1000*s, false); // –°–ø2
        drawSwitch(offX + 3400*s, offY + W - 100*s, true); // –í—Ö—ñ–¥–Ω–∏–π –ø—Ä–æ—Ö—ñ–¥–Ω–∏–π
        drawSwitch(offX + 1900*s, offY + 1800*s, true); // –ö—É—Ö–æ–Ω–Ω–∏–π –ø—Ä–æ—Ö—ñ–¥–Ω–∏–π

        // –ó–æ–≤–Ω—ñ—à–Ω—ñ–π –±–ª–æ–∫ –¢–µ–ø–ª–æ–≤–æ–≥–æ –ù–∞—Å–æ—Å–∞ (–¢–ù)
        ctx.strokeStyle = "gray"; ctx.strokeRect(offX + 4500*s, offY - 400*s, 800*s, 350*s);
        ctx.fillText("–¢–ù", offX + 4700*s, offY - 150*s);

        // –í—ñ–∫–Ω–∞/–î–≤–µ—Ä—ñ
        ctx.lineWidth = 5; ctx.strokeStyle = "#ffd700";
        ctx.beginPath(); ctx.moveTo(offX + 2200*s, offY); ctx.lineTo(offX + 3800*s, offY); ctx.stroke();
        ctx.lineWidth = 4; ctx.strokeStyle = "#8b4513";
        ctx.beginPath(); ctx.moveTo(offX + 3500*s, offY + W); ctx.lineTo(offX + 4100*s, offY + W); ctx.stroke();
    </script>
</body>
</html>
