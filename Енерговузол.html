<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: 'Courier New', monospace; background: #eef; text-align: center; padding: 10px; }
        canvas { background: #fff; border: 2px solid #333; box-shadow: 0 10px 20px rgba(0,0,0,0.2); max-width: 100%; height: auto; }
        .legend { display: inline-block; text-align: left; background: #fff; padding: 15px; margin-top: 10px; border-radius: 8px; font-size: 11px; }
    </style>
</head>
<body>
    <h3>–ü–õ–ê–ù "–ú–û–î–£–õ–¨-–ú–ò–ö–û–õ–ê–á–í" v2.16 (–ï–ù–ï–†–ì–û–í–£–ó–û–õ –ü–†–ò –ü–ê–ù–ï–õ–Ø–•)</h3>
    <canvas id="energyCorePlan" width="750" height="550"></canvas>
    
    <div class="legend">
        üîµ <b>–ë–ê–ö:</b> –¢—ñ–ª—å–∫–∏ –≤–æ–¥–∞, –ø—Ä–∏–º–∏–∫–∞—î –¥–æ —Å–∞–Ω–≤—É–∑–ª–∞.<br>
        üü¢ <b>–ï–ù–ï–†–ì–û–ë–õ–û–ö (INV/–ê–ö–ë):</b> –†–æ–∑–º—ñ—â–µ–Ω–∏–π –ø—ñ–¥ –Ω–∞–≤—ñ—Å–æ–º —Å–æ–Ω—è—á–Ω–∏—Ö –ø–∞–Ω–µ–ª–µ–π.<br>
        ‚ö° <b>AC –õ–Ü–ù–Ü–Ø:</b> –ö–∞–±–µ–ª—å 220V –≤—ñ–¥ —ñ–Ω–≤–µ—Ä—Ç–æ—Ä–∞ –¥–æ –≥–æ–ª–æ–≤–Ω–æ–≥–æ —â–∏—Ç–∫–∞ –º–æ–¥—É–ª—è.<br>
        ‚òÄÔ∏è <b>SOLAR:</b> –ú–∞—Å–∏–≤ –ø–∞–Ω–µ–ª–µ–π –Ω–∞ 30 –∫–í—Ç (–Ω–∞–≤—ñ—Å –¥–ª—è –∞–≤—Ç–æ).
    </div>

    <script>
        const canvas = document.getElementById("energyCorePlan");
        const ctx = canvas.getContext("2d");
        const s = 0.08; const offX = 180; const offY = 120;
        const L = 6000 * s; const W = 3500 * s;

        // 1. –ê–†–•–Ü–¢–ï–ö–¢–£–†–ê –ú–û–î–£–õ–Ø (v2.8)
        ctx.lineWidth = 3; ctx.strokeStyle = "#000";
        ctx.strokeRect(offX, offY, L, W);
        
        // –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ —Å—Ç—ñ–Ω–∏ —Ç–∞ –¥–≤–µ—Ä—ñ
        ctx.lineWidth = 2; ctx.beginPath();
        ctx.moveTo(offX + 1800*s, offY); ctx.lineTo(offX + 1800*s, offY + W);
        ctx.moveTo(offX + 4200*s, offY); ctx.lineTo(offX + 4200*s, offY + W);
        ctx.stroke();

        // 2. –¢–ï–†–ú–û-–ë–û–ö–° –í–û–î–ò (–¢—ñ–ª—å–∫–∏ –≤–æ–¥–∞)
        ctx.strokeStyle = "blue";
        ctx.strokeRect(offX - 1000*s, offY + 1700*s, 1000*s, 1800*s);
        ctx.fillStyle = "blue"; ctx.font = "bold 10px Arial";
        ctx.fillText("–ë–ê–ö –í–û–î–ò", offX - 75, offY + 280);

        // 3. –°–û–ù–Ø–ß–ù–ï –ü–û–õ–ï –¢–ê –ï–ù–ï–†–ì–û–ë–õ–û–ö (INV/–ê–ö–ë)
        const solarX = offX + L + 60;
        ctx.strokeStyle = "#007acc"; ctx.lineWidth = 1;
        // –ü–∞–Ω–µ–ª—ñ
        for(let i=0; i<6; i++) {
            ctx.strokeRect(solarX, offY + (i*45), 120, 35);
            ctx.fillStyle = "rgba(0,122,204,0.1)"; ctx.fillRect(solarX, offY + (i*45), 120, 35);
        }
        ctx.fillStyle = "#000"; ctx.fillText("–°–û–ù–Ø–ß–ù–ò–ô –ù–ê–í–Ü–° (30 –∫–í—Ç)", solarX, offY - 10);

        // –ë–ª–æ–∫ –Ü–Ω–≤–µ—Ä—Ç–æ—Ä–∞ —Ç–∞ –ê–∫—É–º—É–ª—è—Ç–æ—Ä—ñ–≤ (–∑—ñ —Å—Ç–æ—Ä–æ–Ω–∏ –ø–∞–Ω–µ–ª–µ–π)
        ctx.fillStyle = "green";
        ctx.fillRect(solarX - 40, offY + 50, 30, 80);
        ctx.fillStyle = "#fff"; ctx.font = "bold 8px Arial";
        ctx.save();
        ctx.translate(solarX - 20, offY + 90);
        ctx.rotate(-Math.PI/2);
        ctx.fillText("INV + –ê–ö–ë", 0, 0);
        ctx.restore();

        // 4. –°–ò–õ–û–í–ê –õ–Ü–ù–Ü–Ø AC (–í—ñ–¥ –µ–Ω–µ—Ä–≥–æ–±–ª–æ–∫—É –¥–æ —â–∏—Ç–∫–∞ –º–æ–¥—É–ª—è)
        ctx.setLineDash([5, 5]); ctx.strokeStyle = "red"; ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(solarX - 25, offY + 90);
        ctx.lineTo(offX + 4100*s, offY + W); // –í—Ö—ñ–¥ –¥–æ —â–∏—Ç–∫–∞ –º–æ–¥—É–ª—è
        ctx.stroke();
        ctx.setLineDash([]);
        ctx.fillStyle = "red"; ctx.fillText("AC 220V", offX + L + 10, offY + W + 10);

        // –ü—ñ–¥–ø–∏—Å–∏ –ø—Ä–∏–º—ñ—â–µ–Ω—å
        ctx.fillStyle = "#000"; ctx.font = "bold 10px Arial";
        ctx.fillText("–°–ü–ê–õ–¨–ù–Ø 1", offX + 20, offY + 150);
        ctx.fillText("–í–Ü–¢–ê–õ–¨–ù–Ø", offX + 200, offY + 100);
        ctx.fillText("–°–ü–ê–õ–¨–ù–Ø 2", offX + 350, offY + 150);
    </script>
</body>
</html>
